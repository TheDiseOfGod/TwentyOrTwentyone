<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>setTimeout</title>
	
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000;opacity:1;"></div>
<button id="fade-btn" onclick="active()">淡出</button>
<script>
var time;
var button=document.getElementById('fade-btn');
		function active(){
			if (button.innerHTML=="淡出") {
				time=window.setInterval('change1()',100);
			}
			else{
				time=window.setInterval('change2()',100);
			}
		}
		function change1(){
			var o=document.getElementById('fade-obj').style.opacity-=0.1;
			console.log(o);
			if (o==0) {
				document.getElementById('fade-btn').innerHTML="淡入";
				window.clearInterval(time);
			}
		}
		function change2(){
			var o=document.getElementById('fade-obj').style.opacity;
			document.getElementById('fade-obj').style.opacity=parseFloat(document.getElementById('fade-obj').style.opacity)+0.1;
			console.log(o);

			if (o==1) {
				document.getElementById('fade-btn').innerHTML="淡出";
				window.clearInterval(time);
			}
		}
		
			
</script>
</body>
</html>